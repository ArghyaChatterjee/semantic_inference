<launch>
    <arg name="input_file"/>
    <arg name="output_file" default=""/>

    <arg name="model_name" default="efficientvit_seg_l2"/>
    <!--<arg name="model_name" default="hrnetv2_360_640_v12"/>-->
    <arg name="model_path" value="$(find semantic_inference)/models/$(arg model_name).onnx"/>
    <arg name="engine_path" value="$(find semantic_inference)/engines/$(arg model_name).trt"/>
    <arg name="segmenter_config" value="$(find semantic_inference)/config/models/$(arg model_name).yaml"/>

    <arg name="debug" default="false"/>
    <arg name="launch-prefix" value="gdb --args" if="$(arg debug)"/>
    <arg name="launch-prefix" value="" unless="$(arg debug)"/>

    <node pkg="semantic_inference" type="demo_segmentation" name="demo_segmentation"
          output="screen"
          launch-prefix="$(arg launch-prefix)"
          required="true">
        <rosparam file="$(arg segmenter_config)" command="load"/>
        <param name="segmenter/model/model_file" value="$(arg model_path)"/>
        <param name="segmenter/model/engine_file" value="$(arg engine_path)"/>
        <param name="segmenter/model/log_severity" value="INFO"/>
        <param name="input_file" value="$(arg input_file)"/>
        <param name="output_file" value="$(arg output_file)"/>
    </node>

</launch>
